name = "agrimcp-gateway"
main = "src/index.ts"
compatibility_date = "2025-01-01"

[vars]
ENVIRONMENT = "development"
GATEWAY_SECRET = "dev_gateway_secret_do_not_use_in_prod"
INTERNAL_SECRET = "dev_internal_secret_do_not_use_in_prod"

[[kv_namespaces]]
binding = "RATE_LIMITS"
id = "local_rate_limits"

[[kv_namespaces]]
binding = "API_KEY_CACHE"
id = "local_api_key_cache"

[[services]]
binding = "JOHN_DEERE_MCP"
service = "agrimcp-john-deere"

[[durable_objects.bindings]]
name = "MONTHLY_COUNTER"
class_name = "MonthlyUsageCounter"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["MonthlyUsageCounter"]
